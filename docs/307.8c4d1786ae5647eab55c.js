"use strict";(self.webpackChunkanime_search_angular=self.webpackChunkanime_search_angular||[]).push([[307],{618:(w,g,c)=>{c.r(g),c.d(g,{AnimeModule:()=>U});var _=c(583),d=c(855);function m(n,o,e,i,r,s,a){try{var p=n[s](a),l=p.value}catch(q){return void e(q)}p.done?o(l):Promise.resolve(l).then(i,r)}function u(n){return function(){var o=this,e=arguments;return new Promise(function(i,r){var s=n.apply(o,e);function a(l){m(s,i,r,a,p,"next",l)}function p(l){m(s,i,r,a,p,"throw",l)}a(void 0)})}}var t=c(639),f=c(841);let h=(()=>{class n{constructor(e){this.httpClient=e,this.URL_BASE="https://kitsu.io/api/edge",this.httpOptions={headers:new f.WM({"Content-Type":"application/vnd.api+json"})}}search(e){var i=this;return u(function*(){return yield i.httpClient.get(i.URL_BASE+"/anime?filter[text]="+e+"&page[limit]=12",i.httpOptions).toPromise()})()}linkToPage(e){var i=this;return u(function*(){return yield i.httpClient.get(e,i.httpOptions).toPromise()})()}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(f.eN))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Z(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"li",13),t.TgZ(1,"button",14),t.NdJ("click",function(){t.CHM(e);const r=t.oxw(2);return r.getDataLink(r.result.links.first)}),t._UZ(2,"i",15),t._uU(3," First"),t.qZA(),t.qZA()}}function v(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"li",13),t.TgZ(1,"button",16),t.NdJ("click",function(){t.CHM(e);const r=t.oxw(2);return r.getDataLink(r.result.links.prev)}),t._UZ(2,"i",17),t._uU(3," Previus"),t.qZA(),t.qZA()}}function T(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"li",13),t.TgZ(1,"button",16),t.NdJ("click",function(){t.CHM(e);const r=t.oxw(2);return r.getDataLink(r.result.links.next)}),t._uU(2,"Next "),t._UZ(3,"i",18),t.qZA(),t.qZA()}}function A(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"li",13),t.TgZ(1,"button",16),t.NdJ("click",function(){t.CHM(e);const r=t.oxw(2);return r.getDataLink(r.result.links.last)}),t._uU(2,"Last"),t.qZA(),t.qZA()}}function b(n,o){if(1&n&&(t.TgZ(0,"div",19),t._UZ(1,"img",20),t.TgZ(2,"div",21),t.TgZ(3,"h5",22),t._uU(4),t.qZA(),t.TgZ(5,"p",7),t.TgZ(6,"span",23),t._uU(7),t.qZA(),t._UZ(8,"br"),t.TgZ(9,"span",24),t._uU(10),t.qZA(),t.qZA(),t.qZA(),t.TgZ(11,"div",25),t.TgZ(12,"small",26),t._uU(13),t.qZA(),t.qZA(),t.qZA()),2&n){const e=o.$implicit;t.xp6(1),t.s9C("src",e.attributes.posterImage.large,t.LSH),t.s9C("title",e.attributes.canonicalTitle),t.xp6(3),t.hij("",e.attributes.canonicalTitle," "),t.xp6(3),t.hij("",e.attributes.episodeCount," episodes"),t.xp6(3),t.AsE("Start: ",e.attributes.startDate," | End: ",e.attributes.endDate,""),t.xp6(3),t.lnq("type: ",e.type," - ",e.attributes.showType," | status: ",e.attributes.status,"")}}function x(n,o){if(1&n&&(t.TgZ(0,"div"),t.TgZ(1,"h3",7),t._uU(2),t.qZA(),t.TgZ(3,"nav",8),t.TgZ(4,"ul",9),t.YNc(5,Z,4,0,"li",10),t.YNc(6,v,4,0,"li",10),t.YNc(7,T,4,0,"li",10),t.YNc(8,A,3,0,"li",10),t.qZA(),t.qZA(),t.TgZ(9,"div",11),t.YNc(10,b,14,9,"div",12),t.qZA(),t.qZA()),2&n){const e=t.oxw();t.xp6(2),t.AsE(" ",e.result.meta.count,' results for: "',e.inputUser,'" '),t.xp6(3),t.Q6J("ngIf",e.result.links.first),t.xp6(1),t.Q6J("ngIf",e.result.links.prev),t.xp6(1),t.Q6J("ngIf",e.result.links.next),t.xp6(1),t.Q6J("ngIf",e.result.links.last),t.xp6(2),t.Q6J("ngForOf",e.result.data)}}function C(n,o){1&n&&(t.TgZ(0,"div"),t.TgZ(1,"p",28),t._uU(2,"Loading..."),t.qZA(),t.qZA())}function k(n,o){if(1&n&&t.YNc(0,C,3,0,"div",27),2&n){const e=t.oxw();t.Q6J("ngIf",e.isLoading)}}const y=[{path:"",component:(()=>{class n{constructor(e){this.animeService=e,this.inputUser="",this.isLoading=!1}ngOnInit(){}getData(e){var i=this;return u(function*(){""!=e.trim()&&(i.inputUser=e.trim(),i.result=void 0,i.isLoading=!0,yield i.animeService.search(i.inputUser).then(r=>i.result=r),i.isLoading=!1)})()}getDataLink(e){var i=this;return u(function*(){i.result=void 0,i.isLoading=!0,yield i.animeService.linkToPage(e).then(r=>i.result=r),i.isLoading=!1})()}eventKeyup(e){var i=this;return u(function*(){yield i.getData(e.target.value)})()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(h))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-search"]],decls:10,vars:2,consts:[[1,"input-group","mb-3"],["type","text","placeholder","example: dragon ball...",1,"form-control",3,"keyup.enter"],["searchInput",""],[1,"btn","btn-dark",3,"click"],[1,"bg-light"],[4,"ngIf","ngIfElse"],["loading",""],[1,"fw-light"],["aria-label","Page navigation example"],[1,"pagination"],["class","page-item m-2",4,"ngIf"],[1,"row"],["class","card col-md-4 p-2 h-100",4,"ngFor","ngForOf"],[1,"page-item","m-2"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"bi","bi-house-door-fill"],["type","button",1,"btn","btn-dark",3,"click"],[1,"bi","bi-arrow-left"],[1,"bi","bi-arrow-right"],[1,"card","col-md-4","p-2","h-100"],["alt","cover anime",1,"card-img-top",3,"src","title"],[1,"card-body"],[1,"card-title"],[1,"badge","bg-primary"],[1,"badge","bg-success"],[1,"card-footer","d-inline"],[1,"text-muted"],[4,"ngIf"],[1,"fw-light","text-white"]],template:function(e,i){if(1&e){const r=t.EpF();t._UZ(0,"br"),t.TgZ(1,"div",0),t.TgZ(2,"input",1,2),t.NdJ("keyup.enter",function(a){return i.eventKeyup(a)}),t.qZA(),t.TgZ(4,"button",3),t.NdJ("click",function(){t.CHM(r);const a=t.MAs(3);return i.getData(a.value)}),t._uU(5,"Go!"),t.qZA(),t.qZA(),t._UZ(6,"hr",4),t.YNc(7,x,11,7,"div",5),t.YNc(8,k,1,1,"ng-template",null,6,t.W1O)}if(2&e){const r=t.MAs(9);t.xp6(7),t.Q6J("ngIf",i.result)("ngIfElse",r)}},directives:[_.O5,_.sg],styles:["img[_ngcontent-%COMP%]{object-fit:contain}input[_ngcontent-%COMP%]{width:30%}"]}),n})()}];let S=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[d.Bz.forChild(y)],d.Bz]}),n})(),U=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[_.ez,S]]}),n})()}}]);